function goto {
    [CmdletBinding()]
    param(
        [Parameter(Position=0)]
        [string]$Key
    )

    if (-not $Key) {
        Write-Host "Usage: goto <key>"
        Write-Host "Examples: goto dev, goto dl, goto proj"
        return
    }

    $target = switch ($Key.ToLower()) {
        # === 자주 쓰는 키/별칭들 ===
        { $_ -in @("dev","d") }   { "C:\dev" ; break }
        { $_ -in @("dl","down") } { "$env:USERPROFILE\Downloads" ; break }
        { $_ -in @("desk","desktop") } { "$env:USERPROFILE\Desktop" ; break }

        # === 프로젝트 예시 ===
        { $_ -in @("proj","p") }  { "D:\work\projects" ; break }
        "repo1" { "D:\work\projects\repo1" ; break }
        "repo2" { "D:\work\projects\repo2" ; break }

        default { $null }
    }

    if (-not $target) {
        Write-Host "Unknown key: $Key"
        Write-Host "Hint: add a case in switch inside function goto."
        return
    }

    Set-Location -Path $target
}

# 더 짧게 치고 싶으면 별칭도 추가
Set-Alias gto goto

###########################아래는 git##########

# git 단축어 테이블(여기에 계속 추가)
$global:GitShortcuts = [ordered]@{
    s  = "status -sb"
    a  = "add"
    aa = "add -A"
    c  = "commit"
    cm = "commit -m"
    co = "checkout"
    b  = "branch"
    d  = "diff"
    l  = "log --oneline --decorate --graph -n 20"
    p  = "push"
    pf = "push --force-with-lease"
    pl = "pull --rebase"
}

function g {
    [CmdletBinding()]
    param(
        [Parameter(Position=0)]
        [string]$Key,

        [Parameter(ValueFromRemainingArguments=$true)]
        [string[]]$Args
    )

    if (-not $Key) {
        Write-Host "Usage: g <key> [args...]"
        Write-Host ("Keys: " + ($global:GitShortcuts.Keys -join ", "))
        return
    }

    $sub = $global:GitShortcuts[$Key]
    if (-not $sub) {
        Write-Host "Unknown git shortcut key: $Key"
        Write-Host ("Keys: " + ($global:GitShortcuts.Keys -join ", "))
        return
    }

    # 예: g cm "msg"  -> git commit -m "msg"
    & git @($sub.Split(' ')) @Args
}

# gc는 기본적으로 Get-Content 별칭이라 충돌함 → 제거
if (Get-Alias gc -ErrorAction SilentlyContinue) {
    Remove-Item Alias:gc -Force
}

# gs, ga, gc ... 처럼 직접 호출 가능한 함수들을 자동 생성
foreach ($k in $global:GitShortcuts.Keys) {
    $fn = "g$k"  # 예: gs, gaa, gcm
    if (-not (Get-Command $fn -ErrorAction SilentlyContinue)) {
        Set-Item -Path "Function:\$fn" -Value ([scriptblock]::Create("param([Parameter(ValueFromRemainingArguments=`$true)][string[]]`$Args) g $k @Args"))
    }
}

# 원하시는 정확한 요구: git status -> gs
# 위 테이블에서 s가 status이므로 gs가 생성됩니다.

function danger { claude --dangerously-skip-permissions @args }
